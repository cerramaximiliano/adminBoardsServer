import{d as t,j as s,T as i,ak as w,a as d,an as m,r as c,al as C,i as K,F as l,ar as S,a5 as D,ai as N,f as O,aL as T,bz as b,aN as F}from"./index-vK4JFSwY.js";import{D as k}from"./DataTable-1erOliBj.js";import{g as v,h as R}from"./ECommerceApi-x91SnKw7.js";import{O as z}from"./OrdersStatus-Fuw9dg4G.js";import"./ExpandMore-BGoqP83o.js";import"./TableRow-jW4sBiM3.js";import"./LinearProgress-fijYKzLI.js";function I({title:a}){return t("div",{className:"flex space-y-12 sm:space-y-0 flex-1 w-full items-center justify-between py-8 sm:py-16 px-16 md:px-24",children:[s(w.span,{initial:{x:-20},animate:{x:0,transition:{delay:.2}},children:s(i,{className:"flex text-24 md:text-32 font-extrabold tracking-tight",children:a})}),s("div",{className:"flex w-full sm:w-auto flex-1 items-center justify-end space-x-8"})]})}function L(){const{url:a}=d(m),[u,h]=c.useState({pageIndex:0,pageSize:10}),{data:f,isLoading:p}=v(a?`${a}database/ticks?order=-1&limit=100`:"/mock-api/ecommerce/orders");let y=a?[{accessorKey:"_id",header:"id"},{accessorKey:"date",header:"Date",type:"date",Cell:({cell:e})=>O(new Date(e.getValue()),"dd/MM/yyyy HH:mm")},{accessorKey:"open",header:"Open"},{accessorKey:"high",header:"High"},{accessorKey:"low",header:"Low"},{accessorKey:"close",header:"Close"},{accessorKey:"atr7",header:"ATR 7"},{accessorKey:"atr10",header:"ATR 10"},{accessorKey:"atr14",header:"ATR 14"}]:[{accessorKey:"id",header:"Id",size:64},{accessorKey:"reference",header:"Reference",size:64,Cell:({row:e})=>s(i,{component:T,to:`/apps/e-commerce/orders/${e.original.id}`,className:"underline",color:"secondary",role:"button",children:e.original.reference})},{id:"customer",accessorFn:e=>`${e.customer.firstName} ${e.customer.lastName}`,header:"Customer"},{id:"total",accessorFn:e=>`$${e.total}`,header:"Total",size:64},{id:"payment",accessorFn:e=>e.payment.method,header:"Payment",size:128},{id:"status",accessorFn:e=>s(z,{name:e.status[0].name}),accessorKey:"status",header:"Status"},{accessorKey:"date",header:"Date"}];const[n]=R(),x=c.useMemo(()=>y,[]);return p?s(C,{}):s(N,{className:"flex flex-col flex-auto shadow-3 rounded-t-16 overflow-hidden rounded-b-0 w-full h-full",elevation:0,children:s(k,{initialState:{density:"spacious",showColumnFilters:!1,showGlobalFilter:!0,columnPinning:{left:["mrt-row-expand","mrt-row-select"],right:["mrt-row-actions"]},onPaginationChange:h,state:{pagination:u}},data:f,columns:x,renderRowActionMenuItems:({closeMenu:e,row:r,table:o})=>[t(S,{onClick:()=>{n([r.original.id]),e(),o.resetRowSelection()},children:[s(K,{children:s(l,{children:"heroicons-outline:trash"})}),"Delete"]},0)],renderTopToolbarCustomActions:({table:e})=>{const{rowSelection:r}=e.getState();return Object.keys(r).length===0?null:t(D,{variant:"contained",size:"small",onClick:()=>{const o=e.getSelectedRowModel().rows;n(o.map(g=>g.original.id)),e.resetRowSelection()},className:"flex shrink min-w-40 ltr:mr-8 rtl:ml-8",color:"secondary",children:[s(l,{size:16,children:"heroicons-outline:trash"}),s("span",{className:"hidden sm:flex mx-8",children:"Delete selected items"})]})}})})}function Q(){const{url:a}=d(m);return t(F,{children:[s(b,{styles:()=>({"#root":{maxHeight:"100vh"}})}),t("div",{className:"w-full h-full container flex flex-col",children:[s(I,{title:a?"Last BTC Data":"Orders"}),s(L,{})]})]})}export{Q as default};
