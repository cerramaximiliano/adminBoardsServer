import{d as h,j as e,T as y,ak as N,r as p,al as b,i as C,F as x,ar as S,a5 as w,ai as v,f as O,a as k,an as T,aN as D,bz as j}from"./index-C2pyM5Ac.js";import{D as F}from"./DataTable-UCjD6wG1.js";import{g as z,h as I}from"./ECommerceApi-iB-nF0oW.js";import{O as L}from"./OrdersStatus-eLsQyNJ6.js";import"./ExpandMore-l6KKv5GH.js";import"./TableRow-KTFnJZlF.js";import"./LinearProgress-n37qyi6I.js";function M({title:a}){return h("div",{className:"flex space-y-12 sm:space-y-0 flex-1 w-1/2 items-center justify-between py-8 sm:py-16 px-16 md:px-24",children:[e(N.span,{initial:{x:-20},animate:{x:0,transition:{delay:.2}},children:e(y,{className:"flex text-24 md:text-32 font-extrabold tracking-tight",children:a})}),e("div",{className:"flex w-full sm:w-auto flex-1 items-center justify-end space-x-8"})]})}function P(a){const c=[],m=(i,r="",f)=>{for(const t in i)if(Object.hasOwnProperty.call(i,t)){const u=i[t],n={accessorKey:r+t,header:t.charAt(0).toUpperCase()+t.slice(1)};t==="date"&&(n.Cell=({cell:o})=>O(new Date(o.getValue()),"dd/MM/yyyy HH:mm")),t==="signal"&&(n.accessorFn=o=>{const s=o[f].signal;if(s!=null){let d=s>0?"BUY":s<0?"SELL":"NEUTRAL";return e(L,{name:d})}else return null}),typeof u=="object"&&u!==null?m(u,r+t+".",t):(typeof u=="number"&&t!=="signal"&&(n.Cell=({cell:o})=>Number(o.getValue()).toFixed(2)),c.push(n))}};return a&&a.length>0&&a[0]!==null&&m(a[0]),c}function R({url:a,urlTable:c,title:m}){const[i,r]=p.useState({pageIndex:0,pageSize:10});let f="";f=a;const{data:t,isLoading:u}=z(a?`${f}${c}?order=-1&limit=100`:"/mock-api/ecommerce/orders"),[n]=I(),o=p.useMemo(()=>P(t),[t]);return u?e(b,{}):e(v,{className:"flex flex-col flex-auto shadow-3 rounded-t-16 overflow-hidden rounded-b-0 w-full h-full",elevation:0,children:e(F,{initialState:{density:"spacious",showColumnFilters:!1,showGlobalFilter:!0,columnPinning:{left:["mrt-row-expand","mrt-row-select"],right:["mrt-row-actions"]},onPaginationChange:r,state:{pagination:i},muiPaginationProps:{size:"small"}},title:a&&m,data:t,columns:o,renderRowActionMenuItems:({closeMenu:s,row:d,table:l})=>[h(S,{onClick:()=>{n([d.original.id]),s(),l.resetRowSelection()},children:[e(C,{children:e(x,{children:"heroicons-outline:trash"})}),"Delete"]},0)],renderTopToolbarCustomActions:({table:s})=>{const{rowSelection:d}=s.getState();return Object.keys(d).length===0?null:h(w,{variant:"contained",size:"small",onClick:()=>{const l=s.getSelectedRowModel().rows;n(l.map(g=>g.original.id)),s.resetRowSelection()},className:"flex shrink min-w-40 ltr:mr-8 rtl:ml-8",color:"secondary",children:[e(x,{size:16,children:"heroicons-outline:trash"}),e("span",{className:"hidden sm:flex mx-8",children:"Delete selected items"})]})}})})}function $(){const{url:a,tables:c,urls:m,tablesName:i}=k(T),r=Object.keys(c),[f,t]=p.useState(m[r[0]]),[u,n]=p.useState(r[0]),[o,s]=p.useState(i[r[0]]||""),d=l=>{t(m[l]),n(l),s(i[l])};return h(D,{children:[e(j,{styles:()=>({"#root":{maxHeight:"100vh"}})}),h("div",{className:"w-full h-full container flex flex-col",children:[h("div",{className:"flex flex-col md:flex-row",children:[e(M,{title:a?"Last BTC Data":"Orders"}),e("div",{className:"flex w-full flex-wrap md:w-1/2 items-center justify-around",children:r&&r.length>0?r.map((l,g)=>e("div",{className:"mt-10 mb-10 mx-2",children:e(w,{size:"small",onClick:()=>d(l),className:"whitespace-nowrap",variant:"contained",color:"primary",startIcon:e(x,{size:20,children:"heroicons-outline:chart-square-bar"}),children:c[l]},g)},g)):!1})]}),e(R,{url:a,urlTable:f,title:o})]})]})}export{$ as default};
