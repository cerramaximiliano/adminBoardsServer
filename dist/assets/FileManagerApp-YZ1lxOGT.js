import{aD as ee,aB as m,s as y,bG as te,ay as p,cn as D,aA as G,N as ae,M as se,T as r,r as h,az as le,bV as re,aC as ne,G as oe,ae as x,co as ie,cp as ce,cq as de,cr as me,cs as ue,j as e,F as C,d as n,aZ as pe,a9 as H,ct as fe,u as T,a as _,aq as j,au as W,av as g,ak as w,aN as he,a5 as P,bH as ge,a7 as xe,aL as q,bp as ye,a8 as be,aI as ve,aJ as Ne,an as Ie,al as Ce}from"./index-j5fmg3SG.js";import{F as we}from"./FusePageCarded-ByRfat6S.js";const Se=ee(m.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),je=["slots","slotProps"],ke=y(te)(({theme:a})=>p({display:"flex",marginLeft:`calc(${a.spacing(1)} * 0.5)`,marginRight:`calc(${a.spacing(1)} * 0.5)`},a.palette.mode==="light"?{backgroundColor:a.palette.grey[100],color:a.palette.grey[700]}:{backgroundColor:a.palette.grey[700],color:a.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":p({},a.palette.mode==="light"?{backgroundColor:a.palette.grey[200]}:{backgroundColor:a.palette.grey[600]}),"&:active":p({boxShadow:a.shadows[0]},a.palette.mode==="light"?{backgroundColor:D(a.palette.grey[200],.12)}:{backgroundColor:D(a.palette.grey[600],.12)})})),Me=y(Se)({width:24,height:16});function Be(a){const{slots:t={},slotProps:o={}}=a,s=G(a,je),c=a;return m.jsx("li",{children:m.jsx(ke,p({focusRipple:!0},s,{ownerState:c,children:m.jsx(Me,p({as:t.CollapsedIcon,ownerState:c},o.collapsedIcon))}))})}function Fe(a){return se("MuiBreadcrumbs",a)}const _e=ae("MuiBreadcrumbs",["root","ol","li","separator"]),Pe=_e,Te=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],ze=a=>{const{classes:t}=a;return oe({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Fe,t)},Re=y(r,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(a,t)=>[{[`& .${Pe.li}`]:t.li},t.root]})({}),Ae=y("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(a,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),$e=y("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(a,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function Ee(a,t,o,s){return a.reduce((c,l,i)=>(i<a.length-1?c=c.concat(l,m.jsx($e,{"aria-hidden":!0,className:t,ownerState:s,children:o},`separator-${i}`)):c.push(l),c),[])}const Le=h.forwardRef(function(t,o){const s=le({props:t,name:"MuiBreadcrumbs"}),{children:c,className:l,component:i="nav",slots:u={},slotProps:M={},expandText:b="Show path",itemsAfterCollapse:f=1,itemsBeforeCollapse:v=1,maxItems:N=8,separator:A="/"}=s,X=G(s,Te),[$,K]=h.useState(!1),I=p({},s,{component:i,expanded:$,expandText:b,itemsAfterCollapse:f,itemsBeforeCollapse:v,maxItems:N,separator:A}),S=ze(I),Z=re({elementType:u.CollapsedIcon,externalSlotProps:M.collapsedIcon,ownerState:I}),E=h.useRef(null),Y=d=>{const F=()=>{K(!0);const L=E.current.querySelector("a[href],button,[tabindex]");L&&L.focus()};return v+f>=d.length?d:[...d.slice(0,v),m.jsx(Be,{"aria-label":b,slots:{CollapsedIcon:u.CollapsedIcon},slotProps:{collapsedIcon:Z},onClick:F},"ellipsis"),...d.slice(d.length-f,d.length)]},B=h.Children.toArray(c).filter(d=>h.isValidElement(d)).map((d,F)=>m.jsx("li",{className:S.li,children:d},`child-${F}`));return m.jsx(Re,p({ref:o,component:i,color:"text.secondary",className:ne(S.root,l),ownerState:I},X,{children:m.jsx(Ae,{className:S.ol,ref:E,ownerState:I,children:Ee($||N&&B.length<=N?B:Y(B),S.separator,A,I)})}))}),De=Le,qe=y(x)(({...a})=>({backgroundColor:{PDF:ie[600],DOC:ce[600],XLS:de[600],TXT:me[600],JPG:ue[600]}[a.color]}));function z(a){const{type:t}=a;return t==="folder"?e(C,{size:56,color:"disabled",children:"heroicons-outline:folder"}):n("div",{className:"relative",children:[e(C,{size:56,color:"disabled",children:"heroicons-outline:document"}),e(qe,{color:t,className:"absolute left-0 bottom-0 px-6 rounded text-12 font-semibold leading-20 text-white",children:t})]})}const U={selectedItemId:null},k=pe({name:"fileManagerApp",initialState:U,reducers:{setSelectedItemId:(a,t)=>{a.selectedItemId=t.payload},resetSelectedItemId:a=>{a.selectedItemId=U.selectedItemId}},selectors:{selectSelectedItemId:a=>a.selectedItemId}});H.inject(k);const Ue=k.injectInto(H),{setSelectedItemId:J,resetSelectedItemId:O}=k.actions,{selectSelectedItemId:Q}=Ue.selectors;k.reducer;function Oe(a){const{items:t}=a,o=fe(),{pathname:s}=o,c=T(),l=_(Q),i=j.find(t,{id:l});return h.useEffect(()=>{c(O())},[s]),i?n(w.div,{initial:{y:50,opacity:.8},animate:{y:0,opacity:1,transition:{delay:.3}},className:"file-details p-24 sm:p-32",children:[e("div",{className:"flex items-center justify-end w-full",children:e(W,{size:"large",onClick:()=>c(O()),children:e(C,{children:"heroicons-outline:x"})})}),e(x,{className:" w-full rounded-8 border preview h-128 sm:h-256 file-icon flex items-center justify-center my-32",sx:{backgroundColor:u=>u.palette.mode==="light"?g(u.palette.background.default,.4):g(u.palette.background.default,.02)},children:e(w.div,{initial:{scale:0},animate:{scale:1,transition:{delay:.3}},children:e(z,{type:i.type})})}),e(r,{className:"text-18 font-medium",children:i.name}),e("div",{className:"text-16 font-medium mt-32",children:"Information"}),n("div",{className:"flex flex-col mt-16 border-t border-b divide-y font-medium",children:[n("div",{className:"flex items-center justify-between py-12",children:[e(r,{color:"text.secondary",children:"Created By"}),e(r,{children:i.createdBy})]}),n("div",{className:"flex items-center justify-between py-12",children:[e(r,{color:"text.secondary",children:"Created At"}),e(r,{children:i.createdAt})]}),n("div",{className:"flex items-center justify-between py-12",children:[e(r,{color:"text.secondary",children:"Modified At"}),e(r,{children:i.modifiedAt})]}),n("div",{className:"flex items-center justify-between py-12",children:[e(r,{color:"text.secondary",children:"Size"}),e(r,{children:i.size})]}),i.contents&&n("div",{className:"flex items-center justify-between py-12",children:[e(r,{color:"text.secondary",children:"Contents"}),e(r,{children:i.contents})]})]}),i.description&&n(he,{children:[e("div",{className:"text-16 font-medium mt-32 pb-16 border-b",children:"Description"}),e(r,{className:"py-12",children:i.description})]}),n("div",{className:"grid grid-cols-2 gap-16 w-full mt-32",children:[e(P,{className:"flex-auto",color:"secondary",variant:"contained",children:"Download"}),e(P,{className:"flex-auto",children:"Delete"})]})]}):null}var R={},Ge=xe;Object.defineProperty(R,"__esModule",{value:!0});var V=R.default=void 0,He=Ge(ge()),We=m;V=R.default=(0,He.default)((0,We.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");function Je(a){const{path:t,folders:o,files:s}=a;return n("div",{className:"p-24 sm:p-32 w-full flex  space-y-8 sm:space-y-0 items-center justify-between",children:[n("div",{className:"flex flex-col space-y-8 sm:space-y-0",children:[n(w.span,{className:"flex items-end",initial:{x:-20},animate:{x:0,transition:{delay:.2}},children:[e(r,{component:q,to:"/apps/file-manager",className:"text-20 md:text-32 font-extrabold tracking-tight leading-none",role:"button",children:"File Manager"}),t&&(t==null?void 0:t.length)>0&&n(De,{"aria-label":"breadcrumb",className:"mx-12",separator:e(V,{fontSize:"small"}),children:[e("div",{}),t.map((c,l)=>l+1===t.length?e(r,{children:c.name},l):e(q,{color:"text.primary",to:`/apps/file-manager/${c.id}`,children:c.name},l))]})]}),e(w.span,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},children:e(r,{className:"text-14 font-medium mx-2",color:"text.secondary",children:`${o.length} folders, ${s.length} files`})})]}),e("div",{className:"flex items-center -mx-8",children:n(P,{className:"mx-8 whitespace-nowrap",variant:"contained",color:"secondary",children:[e(C,{size:20,children:"heroicons-outline:plus"}),e("span",{className:"hidden sm:flex mx-8",children:"Upload file"})]})})]})}function Qe(a){const{item:t}=a,o=T();return t?n(x,{sx:{backgroundColor:"background.paper"},className:"relative w-full sm:w-160 h-160 m-8 p-16 shadow rounded-16",children:[e(W,{className:"absolute z-20 top-0 right-0 m-6 w-32 h-32 min-h-32",onClick:()=>o(J(t.id)),children:e(C,{size:20,children:"heroicons-solid:information-circle"})}),n(ye,{className:"flex flex-col h-full w-full",to:`/apps/file-manager/${t.id}`,role:"button",children:[e("div",{className:"flex flex-auto w-full items-center justify-center",children:e(z,{type:t.type})}),n("div",{className:"flex shrink flex-col justify-center text-center",children:[e(r,{className:"truncate text-12 font-medium",children:t.name}),t.contents&&e(r,{className:"truncate text-12 font-medium",color:"text.secondary",children:t.contents})]})]})]}):null}function Ve(a){const{item:t}=a,o=T();return t?n(x,{sx:{backgroundColor:"background.paper"},className:"flex flex-col relative w-full sm:w-160 h-160 m-8 p-16 shadow rounded-16 cursor-pointer",onClick:()=>o(J(t.id)),children:[e("div",{className:"flex flex-auto w-full items-center justify-center",children:e(z,{type:t.type})}),n("div",{className:"flex shrink flex-col justify-center text-center",children:[e(r,{className:"truncate text-12 font-medium",children:t.name}),t.contents&&e(r,{className:"truncate text-12 font-medium",color:"text.secondary",children:t.contents})]})]}):null}function Xe(a){const{files:t,folders:o}=a;return t.length===0&&o.length===0?e(w.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:e(r,{color:"text.secondary",variant:"h5",children:"There are no items!"})}):n("div",{className:"p-32",children:[(o==null?void 0:o.length)>0&&n(x,{className:"p-16 w-full rounded-16 mb-24 border",sx:{backgroundColor:s=>s.palette.mode==="light"?g(s.palette.background.default,.4):g(s.palette.background.default,.02)},children:[e(r,{className:"font-medium",children:"Folders"}),e("div",{className:"flex flex-wrap -m-8 mt-8",children:o.map(s=>e(Qe,{item:s},s.id))})]}),t.length>0&&n(x,{className:"p-16 w-full rounded-16 mb-24 border",sx:{backgroundColor:s=>s.palette.mode==="light"?g(s.palette.background.default,.4):g(s.palette.background.default,.02)},children:[e(r,{className:"font-medium",children:"Files"}),e("div",{className:"flex flex-wrap -m-8 mt-8",children:t.map(s=>e(Ve,{item:s},s.id))})]})]})}const Ke=["file_manager_folder"],Ze=be.enhanceEndpoints({addTagTypes:Ke}).injectEndpoints({endpoints:a=>({getFileManagerFolder:a.query({query:t=>({url:t}),providesTags:["file_manager_folder"]}),updateFileManagerFolder:a.mutation({query:t=>({url:`/mock-api/file-manager/${t.folderId}`,method:"PUT",body:t.fileManagerItem}),invalidatesTags:["file_manager_folder"]}),deleteFileManagerFolder:a.mutation({query:t=>({url:`/mock-api/file-manager/${t}`,method:"DELETE"}),invalidatesTags:["file_manager_folder"]})}),overrideExisting:!1}),{useGetFileManagerFolderQuery:Ye,useUpdateFileManagerFolderMutation:at,useDeleteFileManagerFolderMutation:st}=Ze;function lt(){const a=ve(N=>N.breakpoints.down("lg")),t=Ne(),{folderId:o}=t,{url:s,apiKey:c}=_(Ie),{data:l,isLoading:i}=Ye(s?`${s}files/logs`:`/mock-api/file-manager/${o}`);console.log(l);const u=_(Q),M=j.find(l==null?void 0:l.items,{id:u}),b=j.filter(l==null?void 0:l.items,{type:"folder"}),f=j.reject(l==null?void 0:l.items,{type:"folder"}),v=l==null?void 0:l.path;return i?e(Ce,{}):e(we,{header:e(Je,{path:v,folders:b,files:f}),content:e(Xe,{folders:b,files:f}),rightSidebarOpen:!!M,rightSidebarContent:e("div",{className:"w-full",children:e(Oe,{items:l==null?void 0:l.items})}),rightSidebarWidth:400,scroll:a?"normal":"content"})}export{lt as default};
