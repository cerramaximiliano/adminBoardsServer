import{d as u,j as t,T as w,ak as y,r as f,al as b,i as C,F as p,ar as N,a5 as x,ai as S,f as v,a as O,an as T,aN as k,bz as D}from"./index-GBfLQmy9.js";import{D as j}from"./DataTable-FmXzlGjj.js";import{g as F,h as I}from"./ECommerceApi-pkZDd0eu.js";import{O as L}from"./OrdersStatus-ZEWGVRBT.js";import"./ExpandMore-lOKhoI-v.js";import"./TableRow-xYv5vxGX.js";import"./LinearProgress-w7xFfUXQ.js";function M({title:a}){return u("div",{className:"flex space-y-12 sm:space-y-0 flex-1 w-1/2 items-center justify-between py-8 sm:py-16 px-16 md:px-24",children:[t(y.span,{initial:{x:-20},animate:{x:0,transition:{delay:.2}},children:t(w,{className:"flex text-24 md:text-32 font-extrabold tracking-tight",children:a})}),t("div",{className:"flex w-full sm:w-auto flex-1 items-center justify-end space-x-8"})]})}function U(a){const i=[],c=(r,m="")=>{for(const s in r)if(Object.hasOwnProperty.call(r,s)){const l=r[s],n={accessorKey:m+s,header:s.charAt(0).toUpperCase()+s.slice(1)};s==="date"&&(n.Cell=({cell:o})=>v(new Date(o.getValue()),"dd/MM/yyyy HH:mm")),s==="signal"&&(n.accessorFn=o=>{const e=l;if(e!=null){let d=e>0?"BUY":e<0?"SELL":"NEUTRAL";return t(L,{name:d})}else return null}),typeof l=="object"&&l!==null?c(l,m+s+"."):(typeof l=="number"&&s!=="signal"&&(n.Cell=({cell:o})=>Number(o.getValue()).toFixed(2)),i.push(n))}};return a&&a.length>0&&a[0]!==null&&c(a[0]),i}function z({url:a,urlTable:i}){const[c,r]=f.useState({pageIndex:0,pageSize:10});let m="";m=a;const{data:s,isLoading:l}=F(a?`${m}${i}?order=-1&limit=100`:"/mock-api/ecommerce/orders"),[n]=I(),o=f.useMemo(()=>U(s),[s]);return l?t(b,{}):t(S,{className:"flex flex-col flex-auto shadow-3 rounded-t-16 overflow-hidden rounded-b-0 w-full h-full",elevation:0,children:t(j,{initialState:{density:"spacious",showColumnFilters:!1,showGlobalFilter:!0,columnPinning:{left:["mrt-row-expand","mrt-row-select"],right:["mrt-row-actions"]},onPaginationChange:r,state:{pagination:c}},title:a&&"BTC/USDT Binance 15m",data:s,columns:o,renderRowActionMenuItems:({closeMenu:e,row:d,table:h})=>[u(N,{onClick:()=>{n([d.original.id]),e(),h.resetRowSelection()},children:[t(C,{children:t(p,{children:"heroicons-outline:trash"})}),"Delete"]},0)],renderTopToolbarCustomActions:({table:e})=>{const{rowSelection:d}=e.getState();return Object.keys(d).length===0?null:u(x,{variant:"contained",size:"small",onClick:()=>{const h=e.getSelectedRowModel().rows;n(h.map(g=>g.original.id)),e.resetRowSelection()},className:"flex shrink min-w-40 ltr:mr-8 rtl:ml-8",color:"secondary",children:[t(p,{size:16,children:"heroicons-outline:trash"}),t("span",{className:"hidden sm:flex mx-8",children:"Delete selected items"})]})}})})}function G(){const{url:a,tables:i,urls:c}=O(T),r=Object.keys(i),[m,s]=f.useState(c[r[0]]),[l,n]=f.useState(r[0]),o=e=>{s(c[e]),n(e)};return u(k,{children:[t(D,{styles:()=>({"#root":{maxHeight:"100vh"}})}),u("div",{className:"w-full h-full container flex flex-col",children:[u("div",{className:"flex flex-col md:flex-row",children:[t(M,{title:a?"Last BTC Data":"Orders"}),t("div",{className:"flex w-full flex-wrap md:w-1/2 items-center justify-around",children:r&&r.length>0?r.map((e,d)=>t("div",{className:"mt-10 mb-10 mx-2",children:t(x,{size:"small",onClick:()=>o(e),className:"whitespace-nowrap",variant:"contained",color:"primary",startIcon:t(p,{size:20,children:"heroicons-outline:chart-square-bar"}),children:i[e]},d)})):!1})]}),t(z,{url:a,urlTable:m})]})]})}export{G as default};
